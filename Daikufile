namespace gunicorn => sub {
    desc 'サーバ（app）起動';
    task start => sub {
        sh qw(gunicorn index:app);
    };
};

namespace db => sub {
    desc 'データベースのセットアップ';
    task setup => sub {
        sh 'script/setup_db.sh';
    };
};

namespace batch => sub {
    desc 'ショップデータのクローリング';
    task crawl => sub {
        sh 'script/batch/hungrykid.py';
    };
};

namespace venv => sub {
    desc 'プロジェクト用Python仮想環境の作成';
    task init => sub {
        sh qw(virtualenv venv --distribute);
    };

    desc 'プロジェクト用Python仮想環境の有効化';
    task activate => sub {
        sh qw(source venv/bin/activate);
    };
};

namespace pip => sub {
    desc '（Python）依存モジュールのインストール';
    task install => sub {
        sh qw(pip install -r requirements.txt);
    };

    desc '（Python）依存モジュールのアップデート';
    task update => sub {
        sh qw(pip install -r requirements.txt -U);
    };

    desc '（Python）依存モジュールの凍結';
    task freeze => sub {
        sh 'pip freeze > requirements.txt';
    };
};

namespace carton => sub {
    desc '（Perl）依存モジュールのインストール';
    task install => sub {
        sh qw(carton install);
    };

    desc '（Perl）依存モジュールのアップデート';
    task update => sub {
        sh qw(carton update);
    };
};

# 独自タスクは以下のファイルに定義すると捗りそう
do 'Daikufile.local';